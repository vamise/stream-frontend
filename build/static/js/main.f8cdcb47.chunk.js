(this["webpackJsonpstream-frontend"]=this["webpackJsonpstream-frontend"]||[]).push([[0],{398:function(e,t,c){},514:function(e,t){},517:function(e,t){},533:function(e,t){},534:function(e,t){},646:function(e,t,c){},647:function(e,t,c){},710:function(e,t){},712:function(e,t){},726:function(e,t){},730:function(e,t){},732:function(e,t){},742:function(e,t){},744:function(e,t){},775:function(e,t){},777:function(e,t){},784:function(e,t){},785:function(e,t){},809:function(e,t){},810:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(50),s=c.n(n),i=(c(509),c(115)),r=c(60),l=c(212),j=c(35),o=c(282),d=c(41),u="https://api.devnet.solana.com",b={wallet:new o.a("https://www.sollet.io",u),connection:new d.a(u,"confirmed")},m=Object(l.b)({walletConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WALLET_CONNECT":case"WALLET_DISCONNECT":return Object(j.a)(Object(j.a)({},e),{},{wallet:t.payload.wallet});default:return e}},createStream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{result:!1,id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_RESPONSE":return{result:!0,id:t.id};case"CREATE_FAILED":return Object(j.a)(Object(j.a)({},e),{},{result:!1,id:null});case"CLEAR_RESPONSE":return{result:!1,id:null};default:return e}},streamData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sending:[],receiving:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_RECEIVED":return Object(j.a)(Object(j.a)({},e),{},{sending:t.result.sending,receiving:t.result.receiving});case"DATA_NOT_RECEIVED":return{sending:[],receiving:[]};default:return e}},withdrawStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WITHDRAW_SUCCESS":return!0;case"WITHDRAW_FAILED":return!1;default:return e}},cancelStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CANCEL_SUCCESS":return!0;case"CANCEL_FAILED":return!1;default:return e}}}),h=c(504),O=c(32),x=c(379),p=c(247),f=c(61),g=c(131),v=c(64),w=c(137),y=c(92),S=c(478),C=c(258),N=c(479),T=c(490),k=c.n(T),E=c(9),_=x.a.Sider,A=function(e){var t=Object(f.f)();return Object(a.useEffect)((function(){e.setKey(e.getKey(t.pathname))}),[e.keyName]),Object(E.jsxs)(_,{className:"sider-view",style:{overflow:"auto",height:"100vh",position:"fixed",left:0,marginTop:64,border:"rgb(0,0,0,0.09) solid 1px"},trigger:null,collapsible:!0,collapsed:e.collapsed,children:[Object(E.jsxs)(v.a,{theme:"light",mode:"inline",defaultSelectedKeys:[e.keyName],children:[Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(S.a,{}),children:Object(E.jsx)(i.b,{to:"/",children:" Sending "})},"2"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(C.a,{}),children:Object(E.jsx)(i.b,{to:"/receiving",children:" Receiving "})},"3"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(N.a,{}),children:Object(E.jsx)(i.b,{to:"/createstream",children:" Create Stream "})},"4")]}),Object(E.jsx)(w.a,{style:{position:"absolute",bottom:40,width:"100%"},align:"middle",justify:"space-around",children:Object(E.jsx)(y.a,{children:Object(E.jsx)(k.a,{onChange:e.dark.toggle,checked:e.dark.value,size:50})})})]})},D=c(482),L=c(483),R=c(184),I=x.a.Header,K=function(e){return Object(E.jsx)(I,{className:"site-layout-background-header",style:{padding:0,position:"fixed",zIndex:1,width:"100%"},children:Object(E.jsxs)(w.a,{justify:"space-between",children:[Object(E.jsxs)(w.a,{children:[Object(E.jsx)(y.a,{children:Object(E.jsx)("span",{className:"trigger",onClick:function(){g.isMobile||e.setCollapsed(!e.collapsed)},children:e.collapsed?Object(E.jsx)(D.a,{}):Object(E.jsx)(L.a,{})})}),Object(E.jsx)(y.a,{children:Object(E.jsx)("div",{className:"logo",children:"Stream Payment Protocol"})})]}),Object(E.jsx)(y.a,{style:{marginRight:"15px"},children:Object(E.jsx)(R.WalletMultiButton,{})})]})})},W=(c(646),c(647),c(245)),P=c(477),M=c(52),F=c(244),H=c(480),U=c(261),z=c(481),q=c(486),V=(c(398),function(e){var t=e.children,c=e.status,n=e.token,s=e.amount,i=e.cardCss,r=e.receiver,l=Object(a.useState)(!1),j=Object(O.a)(l,2),o=j[0],d=j[1];return Object(E.jsxs)("div",{children:[Object(E.jsxs)(w.a,{justify:"space-between",align:"middle",className:"table-item ".concat(i),onClick:function(e){g.isMobile||d(!o)},children:[Object(E.jsx)("h3",{className:"item-heading",children:c}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"To"}),Object(E.jsxs)("h3",{className:"item-heading",children:[r," ",Object(E.jsx)(H.a,{})]})]}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"Token"}),Object(E.jsxs)("h3",{className:"item-heading",children:[n," ",Object(E.jsx)(H.a,{})]})]}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"Amount"}),Object(E.jsxs)("h3",{className:"item-heading",children:[s," ",Object(E.jsx)(F.a,{title:"Stream Amount(In Lamports)",content:Object(E.jsxs)("div",{children:["This is the total amount of tokens,",Object(E.jsx)("br",{})," Stream was created of. At the end",Object(E.jsx)("br",{})," of streaming time the withdraw",Object(E.jsx)("br",{})," amount will be equal to total amount."]}),children:Object(E.jsx)(U.a,{})})]})]}),Object(E.jsx)(y.a,{children:o?Object(E.jsx)(q.a,{style:{fontSize:"25px",marginRight:40}}):Object(E.jsx)(z.a,{style:{fontSize:"25px",marginRight:40}})})]}),o?Object(E.jsx)("div",{className:"table-item-body",children:t}):null]})}),Y=c(475),G=c(476),B=c(8),J=c.n(B),Q=c(24),Z=c(67),X=c(497),$=(c.n(X).a.create({baseURL:"http://127.0.0.1"}),new d.c("GfeV5L8F59Cy1KQM67avz61zSsZZMu8UDWLAsGsbUtL6"),function(e){return function(){var e=Object(Q.a)(J.a.mark((function e(t,c){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DATA_RECEIVED",result:{sending:[{amount_second:66,end_time:1630889016,sender:"A7j3YAgaHmTdmCHPhLvVrwjzKTHM37GowfUTLsyowfBX",pda_account:"3PoNu2xRQLLefNpHPTDGkAqigR5caAAPKNs3Kr1wNEdh",lamports_withdrawn:0,start_time:1630853012,receiver:"7f71EW6o6bjzUQ5kminkZVcLYKA3RznJf6CgcL2yNEom",total_amount:2376264}],receiving:[{amount_second:66,end_time:1630889016,sender:"A7j3YAgaHmTdmCHPhLvVrwjzKTHM37GowfUTLsyowfBX",pda_account:"3PoNu2xRQLLefNpHPTDGkAqigR5caAAPKNs3Kr1wNEdh",lamports_withdrawn:0,start_time:1630853012,receiver:"7f71EW6o6bjzUQ5kminkZVcLYKA3RznJf6CgcL2yNEom",total_amount:2376264}]}});case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}),ee=Y.a.Step,te=G.a.Meta,ce=function(e){var t=e.startTime,c=e.endTime,n=e.withdrawn,s=e.receiver,i=e.streamed,l=e.statusID,j=(e.streamID,Object(a.useState)(!1)),o=Object(O.a)(j,2),d=(o[0],o[1]),u=Object(a.useState)(50),b=Object(O.a)(u,2),m=(b[0],b[1],Object(r.b)()),h=Object(a.useState)(!1),x=Object(O.a)(h,2),f=x[0],g=x[1],v=Object(r.c)((function(e){return e.cancelStatus}));Object(a.useEffect)((function(){f&&(v?p.a.success({message:"Cancel Success",description:"Cancel was successfully processed."}):p.a.warning({message:"Cancel Unsuccessful",description:"Some error occurred. However it is possible the amount was processed. Kindly check your wallet."})),g(!1),d(!1)}),[v]);Object(Z.useWallet)();return Object(E.jsx)("div",{className:"site-drawer-render-in-current-wrapper",children:Object(E.jsxs)("div",{style:{padding:30,border:"rgb(0,0,0,0.09) solid 1px"},children:[Object(E.jsxs)(w.a,{justify:"space-between",align:"middle",children:[Object(E.jsx)(y.a,{span:15,children:Object(E.jsxs)(w.a,{gutter:[16,16],children:[Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(te,{className:"card-custom-extra item-heading",title:"Start Time",description:t})}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(te,{className:"card-custom-extra item-heading",title:"End Time",description:c})}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(te,{className:"card-custom-extra item-heading",title:"Withdrawn",description:n.toString()})}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(te,{className:"card-custom-extra item-heading",title:"Recipient",description:s})})]})}),Object(E.jsx)(y.a,{span:6,children:Object(E.jsx)(G.a,{className:"card-custom-extra",children:Object(E.jsx)(w.a,{justify:"center",children:Object(E.jsx)(M.a,{type:"primary",shape:"round",onClick:function(){m(function(){var e=Object(Q.a)(J.a.mark((function e(t,c){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),g(!0)},children:"Close Stream"})})})})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(Y.a,{current:l,children:[Object(E.jsx)(ee,{title:"Started Streaming",description:"On ".concat(t)}),Object(E.jsx)(ee,{title:"In Progress",description:"Streaming ".concat(i.toString())}),Object(E.jsx)(ee,{title:"Ends",description:"On ".concat(c)})]})]})})},ae=function(e){return e.start_time>(new Date).getTime()/1e3?"Starting soon":e.end_time<(new Date).getTime()/1e3?"Completed":"Streaming"},ne=function(){var e=Object(r.c)((function(e){return e.streamData})),t=Object(r.c)((function(e){return e.walletConfig})),c=Object(a.useState)([]),n=Object(O.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)(!1),j=Object(O.a)(l,2),o=j[0],d=j[1],u=Object(a.useState)(!1),b=Object(O.a)(u,2),m=b[0],h=b[1],x=Object(r.b)(),p=Object(Z.useWallet)();Object(a.useEffect)((function(){h(!0),void 0!=p.publicKey&&x($(p.publicKey.toString()))}),[p]),Object(a.useEffect)((function(){if(h(!1),i(e.sending),o){var t=s.filter((function(e){if(e.start_time<(new Date).getTime()/1e3&&e.end_time>(new Date).getTime()/1e3)return e}));i(t)}}),[e,o]);var f=function(e){return 1===s.length?"card-custom-both":0===e?"card-custom":e===s.length-1?"card-custom-bottom":"card-custom-none"},g=s.map((function(e,t){return Object(E.jsx)(V,{status:ae(e),earned:e.yieldEarned,token:"SOL",receiver:e.receiver,amount:e.total_amount,cardCss:f(t),children:Object(E.jsx)(ce,{startTime:new Date(1e3*e.start_time).toUTCString(),endTime:new Date(1e3*e.end_time).toUTCString(),withdrawn:e.lamports_withdrawn,receiver:e.receiver,streamed:ae(e),earned:e.yieldEarned,streamID:e.pda_account})},e.pda_account)}));return Object(E.jsxs)("div",{style:{height:"100%"},children:[Object(E.jsx)(y.a,{className:"site-page-header",children:Object(E.jsxs)("h3",{className:"page-heading",children:["Stream History",Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"page-sub-heading",children:"Check progress of your streams here."})]})}),Object(E.jsx)("div",{className:"stream-view-body",style:{padding:25,height:"100%"},children:m?Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{style:{color:"white"},children:"Connect wallet"}),Object(E.jsx)(W.a,{active:!0})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(w.a,{justify:"space-between",style:{margin:"0 20px",padding:"20px"},children:[Object(E.jsxs)("div",{className:"extra-text-view",children:[Object(E.jsx)(P.a,{onChange:function(e){d(e)}})," ","Streaming Only"]}),Object(E.jsx)(M.a,{className:"refresh-btn-view",type:"text",style:{borderRadius:"10px"},onClick:function(){null!=p.publicKey&&x($(p.publicKey.toString())),h(!0)},children:"Refresh"})]}),0===s.length?t.wallet.connected?Object(E.jsx)(w.a,{justify:"space-around",align:"middle",style:{height:"70%"},children:"Create a stream to get started!"}):Object(E.jsx)(w.a,{justify:"space-around",align:"middle",style:{height:"70%"},children:"Connect wallet to view outgoing streams!"}):g]})})]})},se=c(192),ie=c(172),re=c(473),le=c(472),je=G.a.Meta,oe=function(e){var t,c=e.startTime,n=e.endTime,s=e.withdrawn,i=e.sender,l=(e.streamID,e.amount),j=e.rate,o=e.sTime,d=e.eTime,u=Object(a.useState)(0),b=Object(O.a)(u,2),m=b[0],h=b[1],x=Object(a.useState)(0),f=Object(O.a)(x,2),v=f[0],S=f[1],C=Object(a.useState)(parseFloat(s/l*100).toFixed(2)),N=Object(O.a)(C,2),T=N[0],k=(N[1],Object(a.useState)(!1)),_=Object(O.a)(k,2),A=_[0],D=_[1],L=Object(r.b)(),R=Object(a.useState)(!1),I=Object(O.a)(R,2),K=I[0],W=I[1],P=Object(a.useState)(0),F=Object(O.a)(P,2),H=F[0],U=F[1],z=Object(r.c)((function(e){return e.withdrawStatus}));Object(Z.useWallet)();return Object(a.useEffect)((function(){var e=setInterval((function(){var e=(new Date).getTime();if(1e3*o>e)S(0),h(0);else if(1e3*d<e)S("".concat(l-s," (").concat((1e-9*(l-s)).toFixed(10)," sol)")),h(100);else if(e>1e3*o){var t=Math.floor((e-1e3*o)*j/1e3)-s;S("".concat(t," (").concat((1e-9*t).toFixed(10)," sol)")),h(parseFloat((e-1e3*o)*j/1e3/l*100).toFixed(2))}}),1e3);return function(){clearInterval(e)}}),[]),Object(a.useEffect)((function(){K&&(z?p.a.success({message:"Withdraw Success",description:"Withdraw was successfully processed."}):p.a.warning({message:"Withdraw Unsuccessful",description:"Some error occurred. However it is possible the amount was processed. Kindly check your wallet."})),W(!1),D(!1)}),[z]),Object(E.jsxs)("div",{className:"site-drawer-render-in-current-wrapper",children:[Object(E.jsxs)("div",{style:{padding:30,border:"rgb(0,0,0,0.09) solid 1px"},children:[g.isMobile?Object(E.jsx)("div",{}):Object(E.jsxs)(w.a,{justify:"space-between",align:"middle",children:[Object(E.jsx)(y.a,{span:15,children:Object(E.jsxs)(w.a,{gutter:[16,16],children:[Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(je,(t={className:"stream-meta-view"},Object(se.a)(t,"className","card-custom-extra item-heading"),Object(se.a)(t,"title","Start Time"),Object(se.a)(t,"description",c),t))}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(je,{className:"card-custom-extra item-heading",title:"End Time",description:n})}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(je,{className:"card-custom-extra item-heading",title:"Withdrawn",description:s.toString()})}),Object(E.jsx)(y.a,{span:12,children:Object(E.jsx)(je,{className:"card-custom-extra item-heading",title:"Sender",description:i})})]})}),Object(E.jsx)(y.a,{span:8,children:Object(E.jsx)(G.a,{className:"card-custom-extra",title:"Available to Claim",children:Object(E.jsxs)(w.a,{justify:"space-between",children:[Object(E.jsx)("div",{className:"card-earned-number",children:v}),Object(E.jsx)(M.a,{type:"primary",shape:"round",onClick:function(){return D(!0)},children:"Withdraw"})]})})})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(w.a,{className:"extra-text-view",children:"Streamed"}),Object(E.jsx)(ie.a,{strokeColor:{"0%":"#46aeff","100%":"#1890ff"},percent:m}),Object(E.jsx)(w.a,{className:"extra-text-view",children:"Withdrawn"}),Object(E.jsx)(ie.a,{strokeColor:{"0%":"#46aeff","100%":"#1890ff"},percent:T})]}),Object(E.jsxs)(re.a,{title:"Enter amount to withdraw",placement:"right",closable:!0,onClose:function(){return D(!1)},visible:A,getContainer:!1,style:{position:"absolute"},children:[Object(E.jsx)(G.a,{className:"card-custom-extra",title:"Amount",children:Object(E.jsx)(w.a,{justify:"space-around",children:Object(E.jsx)("div",{className:"card-earned-number",children:Object(E.jsx)(le.a,{value:H,onChange:function(e){return U(e)}})})})}),Object(E.jsx)("br",{}),Object(E.jsx)(M.a,{type:"primary",shape:"round",loading:K,onClick:function(){L(function(){var e=Object(Q.a)(J.a.mark((function e(t,c){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),W(!0)},children:"Submit"})]})]})},de=function(e){var t=e.children,c=e.status,n=e.token,s=e.amount,i=e.cardCss,r=e.sender,l=Object(a.useState)(!1),j=Object(O.a)(l,2),o=j[0],d=j[1];return Object(E.jsxs)("div",{children:[Object(E.jsxs)(w.a,{justify:"space-between",align:"middle",className:"table-item ".concat(i),onClick:function(e){d(!o)},children:[Object(E.jsx)("h3",{className:"item-heading",children:c}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"From"}),Object(E.jsxs)("h3",{className:"item-heading",children:[r," ",Object(E.jsx)(H.a,{})]})]}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"Token"}),Object(E.jsxs)("h3",{className:"item-heading",children:[n," ",Object(E.jsx)(H.a,{})]})]}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("h4",{className:"item-sub-heading",children:"Amount"}),Object(E.jsxs)("h3",{className:"item-heading",children:[s," ",Object(E.jsx)(F.a,{title:"Stream Amount",content:Object(E.jsxs)("div",{children:["This is the total amount of tokens,",Object(E.jsx)("br",{})," Stream was created of. At the end",Object(E.jsx)("br",{})," of streaming time the withdraw",Object(E.jsx)("br",{})," amount will be equal to total amount."]}),children:Object(E.jsx)(U.a,{})})]})]}),Object(E.jsx)(y.a,{children:o?Object(E.jsx)(q.a,{style:{fontSize:"25px",marginRight:40}}):Object(E.jsx)(z.a,{style:{fontSize:"25px",marginRight:40}})})]}),o?Object(E.jsx)("div",{className:"table-item-body",children:t}):null]})},ue=function(e){return e.start_time>(new Date).getTime()/1e3?"Starting soon":e.end_time<(new Date).getTime()/1e3?"Completed":"Streaming"},be=function(){var e=Object(r.c)((function(e){return e.streamData})),t=Object(r.c)((function(e){return e.walletConfig})),c=Object(a.useState)([]),n=Object(O.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)(!1),j=Object(O.a)(l,2),o=j[0],d=j[1],u=Object(a.useState)(!1),b=Object(O.a)(u,2),m=b[0],h=b[1],x=Object(r.b)(),p=Object(Z.useWallet)();Object(a.useEffect)((function(){h(!0),void 0!=p.publicKey&&x($(p.publicKey.toString()))}),[p]),Object(a.useEffect)((function(){if(h(!1),i(e.receiving),o){var t=s.filter((function(e){if(e.start_time<(new Date).getTime()/1e3&&e.end_time>(new Date).getTime()/1e3)return e}));i(t)}}),[e,o]);var f=function(e){return 1===s.length?"card-custom-both":0===e?"card-custom":e===s.length-1?"card-custom-bottom":"card-custom-none"},g=s.map((function(e,t){return Object(E.jsx)(de,{status:ue(e),earned:e.yieldEarned,token:"SOL",receiver:e.receiver,amount:e.total_amount,cardCss:f(t),sender:e.sender,children:Object(E.jsx)(oe,{startTime:new Date(1e3*e.start_time).toUTCString(),endTime:new Date(1e3*e.end_time).toUTCString(),withdrawn:e.lamports_withdrawn,receiver:e.receiver,streamID:e.pda_account,amount:e.total_amount,rate:e.amount_second,sender:e.sender,sTime:e.start_time,eTime:e.end_time})},e.pda_account)}));return Object(E.jsxs)("div",{style:{height:"100%"},children:[Object(E.jsx)(y.a,{className:"site-page-header",children:Object(E.jsxs)("h3",{className:"page-heading",children:["Receiving",Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"page-sub-heading",children:"Check Incoming streams, status, payroll."})]})}),Object(E.jsx)("div",{className:"stream-view-body",style:{padding:25,height:"100%"},children:m?Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{style:{color:"white"},children:"Connect wallet"}),Object(E.jsx)(W.a,{active:!0})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(w.a,{justify:"space-between",style:{margin:"0 20px",padding:"20px"},children:[Object(E.jsxs)("div",{className:"extra-text-view",children:[Object(E.jsx)(P.a,{onChange:function(e){d(e)}})," ","Streaming Only"]}),Object(E.jsx)(M.a,{className:"refresh-btn-view",type:"text",style:{borderRadius:"10px"},onClick:function(){null!=p.publicKey&&x($(p.publicKey.toString())),h(!0)},children:"Refresh"})]}),0===s.length?t.wallet.connected?Object(E.jsx)(w.a,{justify:"space-around",align:"middle",style:{height:"70%"},children:"No, streams yet!"}):Object(E.jsx)(w.a,{justify:"space-around",align:"middle",style:{height:"70%"},children:"Connect wallet to view incoming streams!"}):g]})})]})},me=c(83),he=c(207),Oe=c(471),xe=c(474),pe=c(123),fe=c(173),ge=c(484),ve=c(485),we=Y.a.Step,ye=x.a.Content,Se=me.a.Option,Ce=he.a.RangePicker,Ne={rules:[{type:"array",required:!0,message:"Please select time!"}]},Te=function(e){var t=Object(a.useState)(0),c=Object(O.a)(t,2),n=c[0],s=c[1],l=Object(a.useState)(),o=Object(O.a)(l,2),d=o[0],u=o[1],b=Object(r.b)(),m=Oe.a.useForm(),h=Object(O.a)(m,1)[0],x=Object(a.useState)(0),p=Object(O.a)(x,2),f=p[0],g=p[1],v=Object(a.useState)(""),w=Object(O.a)(v,2),S=w[0],C=w[1],N=Object(a.useState)(),T=Object(O.a)(N,2),k=T[0],_=T[1],A=Object(a.useState)(!1),D=Object(O.a)(A,2),L=D[0],I=D[1],K=Object(r.c)((function(e){return e.createStream})),W=Object(r.c)((function(e){return e.walletConfig})),P=Object(Z.useWallet)();P.connected&&0===n&&s(1),Object(a.useEffect)((function(){P.connected?s(1):s(0)}),[P]),Object(a.useEffect)((function(){b({type:"CLEAR_RESPONSE"}),I(!1),s(0)}),[]),Object(a.useEffect)((function(){1===n&&s(2),_(void 0),C(0),g(""),u(void 0),I(!1)}),[K]);var F=[Object(E.jsx)(xe.a,{icon:Object(E.jsx)(ge.a,{}),title:"Great, Lets get started!",subTitle:"Streams data is saved on an system account, and we require some rent for that.\nBut don't worry This will be returned to you whenever you want to cancel stream along with the rewards.",extra:W.wallet.connected?Object(E.jsx)(M.a,{type:"primary",onClick:function(){return s(1)},children:"Next"}):Object(E.jsx)(R.WalletMultiButton,{})}),Object(E.jsx)(xe.a,{icon:Object(E.jsx)(ve.a,{}),title:"",children:Object(E.jsx)(pe.a,{spinning:L,children:Object(E.jsxs)(Oe.a,{form:h,name:"basic",labelCol:{span:5},wrapperCol:{span:16},initialValues:{remember:!0},children:[Object(E.jsx)(Oe.a.Item,{label:"Token",name:"Token",rules:[{required:!0,message:"Please Select Token!"}],children:Object(E.jsxs)(me.a,{placeholder:"Select Token you want to stream",onChange:u,value:d,allowClear:!0,children:[Object(E.jsx)(Se,{value:"SOL",children:"SOL"}),Object(E.jsx)(Se,{disabled:!0,value:"NA1",children:"Coming soon"}),Object(E.jsx)(Se,{disabled:!0,value:"NA2",children:"Coming soon"})]})}),Object(E.jsx)(Oe.a.Item,{label:"Rate per second",name:"Amount",rules:[{required:!0,message:"Enter a valid rate"}],children:Object(E.jsx)(le.a,{value:f,placeholder:"Amount in Sol",onChange:function(e){return g(e)}})}),Object(E.jsx)(Oe.a.Item,{label:"Amount",name:"Amount_",children:Object(E.jsx)(fe.a,{disabled:!0,placeholder:void 0!==k?f*(k[1].unix()-k[0].unix()):0})}),Object(E.jsx)(Oe.a.Item,Object(j.a)(Object(j.a)({name:"range-time-picker",label:"Start Time - End Time"},Ne),{},{children:Object(E.jsx)(Ce,{showTime:!0,value:k,format:"YYYY-MM-DD HH:mm:ss",onChange:function(e){return _(e)}})})),Object(E.jsx)(Oe.a.Item,{label:"Recipient",name:"Address",rules:[{required:!0,message:"Enter a valid address"}],children:Object(E.jsx)(fe.a,{value:S,placeholder:"Enter the address of recipient.",onChange:function(e){return C(e.target.value)}})}),Object(E.jsxs)(Oe.a.Item,{wrapperCol:{offset:10,span:16},children:[Object(E.jsx)(M.a,{type:"primary",htmlType:"submit",onClick:function(e){var t;e.preventDefault(),void 0!==k&&0!==f&&""!==S&&(I(!0),b(((t={receiverAddress:S,startTime:k[0].unix(),endTime:k[1].unix(),amountSpeed:f,wallet:P}).receiverAddress,t.startTime,t.endTime,t.amountSpeed,t.wallet,function(){var e=Object(Q.a)(J.a.mark((function e(t,c){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))),h.resetFields(),_(void 0),C(0),g(""),u(void 0)},children:"Submit"}),Object(E.jsx)(M.a,{style:{marginLeft:"5px"},type:"primary",onClick:function(){s(0)},children:"Back"})]})]})})}),K.result?Object(E.jsx)(xe.a,{status:"success",title:"Succesfully created stream",subTitle:"Stream ID ".concat(K.id),extra:[Object(E.jsx)(M.a,{type:"primary",onClick:function(){return e.setKey("2")},children:Object(E.jsx)(i.b,{to:"/sending",children:"Check stream"})},"Check_stream"),Object(E.jsx)(M.a,{type:"secondary",onClick:function(e){e.preventDefault(),s(0)},children:"Create Another"},"create_another")]}):Object(E.jsx)(xe.a,{status:"error",title:"Some error occured",subTitle:"Please check and modify the information and try again.",extra:[Object(E.jsx)(M.a,{type:"primary",onClick:function(e){e.preventDefault(),s(0)},children:"Try Again"},"try_again")]})];return Object(E.jsxs)("div",{children:[Object(E.jsx)(y.a,{className:"site-page-header",children:Object(E.jsxs)("h3",{className:"page-heading",children:["Stream Tokens",Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"page-sub-heading",children:"Just follows two simple steps to start streaming SOL."})]})}),Object(E.jsxs)("div",{className:"create-stream-steps",style:{width:"100%",height:"80vh",padding:20},children:[Object(E.jsxs)(Y.a,{className:"steps",current:n,children:[Object(E.jsx)(we,{title:"Step 1",description:"Confirmation"}),Object(E.jsx)(we,{title:"Step 2",description:"Fill the details"}),Object(E.jsx)(we,{title:"Step 3",description:"All Done!"})]}),Object(E.jsx)(ye,{className:"form-content",children:F[n]})]})]})},ke=c(498),Ee=c(11),_e=c(154),Ae=x.a.Content;function De(e){return e.includes("/")?"2":e.includes("/receiving")?"3":e.includes("/createstream")?"4":"1"}var Le=function(){var e=Object(ke.a)(!1),t=Object(a.useState)(!!g.isMobile),c=Object(O.a)(t,2),n=c[0],s=c[1],i=Object(f.f)(),r=Object(a.useState)(De(i.pathname)),l=Object(O.a)(r,2),j=l[0],o=l[1],u=Ee.e.Devnet,b=Object(a.useMemo)((function(){return Object(d.d)(u)}),[u]),m=Object(a.useMemo)((function(){return[Object(_e.b)(),Object(_e.c)(),Object(_e.d)(),Object(_e.a)(),Object(_e.f)({network:u}),Object(_e.e)({network:u})]}),[u]);return Object(E.jsx)(Z.ConnectionProvider,{endpoint:b,children:Object(E.jsx)(Z.WalletProvider,{wallets:m,autoConnect:!1,children:Object(E.jsx)(R.WalletModalProvider,{children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(K,{collapsed:n,setCollapsed:s}),Object(E.jsxs)(x.a,{children:[Object(E.jsx)(A,{dark:e,setKey:o,getKey:De,keyName:j,collapsed:n}),Object(E.jsx)(x.a,{className:"site-layout",style:{marginLeft:"".concat(n?"80px":"200px")},children:Object(E.jsx)(Ae,{className:"site-layout-background",style:{marginTop:64,height:"89vh",overflow:"initial"},children:Object(E.jsxs)(f.c,{children:[Object(E.jsx)(f.a,{exact:!0,path:"/",children:Object(E.jsx)(ne,{})}),Object(E.jsx)(f.a,{path:"/receiving",children:Object(E.jsx)(be,{})}),Object(E.jsx)(f.a,{path:"/createstream",children:Object(E.jsx)(Te,{setKey:o})})]})})})]})]})})})})};s.a.render(Object(E.jsx)(r.a,{store:Object(l.c)(m,Object(l.a)(h.a)),children:Object(E.jsx)(i.a,{children:Object(E.jsx)(Le,{})})}),document.querySelector("#root"))}},[[810,1,2]]]);
//# sourceMappingURL=main.f8cdcb47.chunk.js.map